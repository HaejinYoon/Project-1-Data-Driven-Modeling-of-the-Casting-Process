---
title: "ë‹¤ì´ìºìŠ¤íŒ… ì œì¡° ê³µì • ë°ì´í„° íƒìƒ‰ì  ë¶„ì„ (EDA)"
author: "Data Analysis Team"
date: today
format:
  html:
    theme: cosmo
    toc: true
    toc-float: true
    toc-depth: 3
    code-fold: true
    code-copy: true
    code-line-numbers: true
    fig-width: 10
    fig-height: 6
    embed-resources: true
    smooth-scroll: true
    link-external-newwindow: true
execute:
  echo: true
  warning: false
  error: false
  cache: false
---

# ë‹¤ì´ìºìŠ¤íŒ… ì œì¡° ê³µì • ë°ì´í„° íƒìƒ‰ì  ë¶„ì„ (EDA)

## 1. ë°ì´í„° ê°œìš”

### 1.1 ë°ì´í„°ì…‹ ì •ë³´
- **train.csv**: 73,612ê°œ í–‰, 32ê°œ ì—´ (í•™ìŠµìš© ë°ì´í„°)
- **test.csv**: 18,403ê°œ í–‰, 31ê°œ ì—´ (í…ŒìŠ¤íŠ¸ ë°ì´í„°)
- **ëª©í‘œ ë³€ìˆ˜**: `passorfail` (0/1 - í’ˆì§ˆ í•©ê²©/ë¶ˆí•©ê²© íŒì •)

### 1.2 ì£¼ìš” ë³€ìˆ˜ ì„¤ëª…

#### ê¸°ë³¸ ì •ë³´
- `id`: ê³ ìœ  ì‹ë³„ì (ì œê±° ì˜ˆì •)
- `line`: ìƒì‚° ë¼ì¸ ì •ë³´ (ì œê±° ì˜ˆì •)
- `name`: ì œí’ˆëª… (ì œê±° ì˜ˆì •)
- `mold_name`: ê¸ˆí˜•ëª… (ì œê±° ì˜ˆì •)
- `registration_time`: ë“±ë¡ì¼ì‹œ (ì œê±° ì˜ˆì •)

#### ìš´ì˜ ìƒíƒœ
- `working`: ê°€ë™ ì—¬ë¶€ (ë¼ë²¨ ì¸ì½”ë”© ì ìš©)
- `emergency_stop`: ë¹„ìƒ ì •ì§€ ì—¬ë¶€
- `tryshot_signal`: ì‹œí—˜ ì‹ í˜¸

#### ê³µì • íŒŒë¼ë¯¸í„°
- `molten_temp`: ìš©íƒ• ì˜¨ë„ (Â°C)
- `facility_operation_cycleTime`: ì„¤ë¹„ í‘œì¤€ ì‚¬ì´í´ ì‹œê°„
- `production_cycletime`: ì‹¤ì œ ìƒì‚° ì‚¬ì´í´ ì‹œê°„
- `low_section_speed`: ì €ì† êµ¬ê°„ ì†ë„
- `high_section_speed`: ê³ ì† êµ¬ê°„ ì†ë„
- `molten_volume`: ìš©íƒ•ëŸ‰
- `cast_pressure`: ì£¼ì¡° ì••ë ¥

#### ê¸ˆí˜• ì˜¨ë„ ê´€ë¦¬
- `upper_mold_temp1~3`: ìƒí˜• ì˜¨ë„ 1~3
- `lower_mold_temp1~3`: í•˜í˜• ì˜¨ë„ 1~3
- `sleeve_temperature`: ìŠ¬ë¦¬ë¸Œ ì˜¨ë„
- `biscuit_thickness`: ë¹„ìŠ¤í‚· ë‘ê»˜

#### ê¸°íƒ€ ì¸¡ì •ê°’
- `physical_strength`: ë¬¼ë¦¬ì  ê°•ë„
- `Coolant_temperature`: ëƒ‰ê°ìˆ˜ ì˜¨ë„
- `EMS_operation_time`: ì „ìê¸°êµë°˜ ê°€ë™ ì‹œê°„
- `mold_code`: ê¸ˆí˜• ì½”ë“œ
- `heating_furnace`: ê°€ì—´ë¡œ êµ¬ë¶„ (A, B, C)

---

## 2. ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© ë° ê¸°ë³¸ ì„¤ì •

```{python}
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from sklearn.preprocessing import LabelEncoder
import warnings
warnings.filterwarnings('ignore')

plt.rcParams['font.family'] = 'Malgun Gothic'
plt.rcParams['axes.unicode_minus'] = False

print("ğŸ“Š ë‹¤ì´ìºìŠ¤íŒ… ì œì¡° ê³µì • EDA ë¶„ì„ì„ ì‹œì‘í•©ë‹ˆë‹¤!")
```

## 3. ë°ì´í„° ë¡œë”©

```{python}

try:
    train = pd.read_csv('./data/train.csv')
    test = pd.read_csv('./data/test.csv')
    
    print("âœ… ë°ì´í„° ë¡œë”© ì„±ê³µ!")
    print(f"ğŸ“ˆ Train ë°ì´í„°: {train.shape}")
    print(f"ğŸ“ˆ Test ë°ì´í„°: {test.shape}")
    print(f"ğŸ” ì»¬ëŸ¼: {list(train.columns)}")
except FileNotFoundError:
    print("âŒ ./data/train.csv, ./data/test.csv íŒŒì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”.")
```


## 4. ë°ì´í„° ì „ì²˜ë¦¬

```{python}

if 'train' in locals() and 'test' in locals():
    drop_columns = ['id', 'line', 'name', 'mold_name', 'registration_time']
    
    train_model = train.drop(columns=drop_columns, errors='ignore')
    test_model = test.drop(columns=drop_columns, errors='ignore')
    
    le_working = LabelEncoder()
    train_model['working_encoded'] = le_working.fit_transform(train_model['working'])
    test_model['working_encoded'] = le_working.transform(test_model['working'])
    
    working_mapping = dict(zip(le_working.classes_, le_working.transform(le_working.classes_)))
    
    train_model = train_model.drop(columns=['working'])
    test_model = test_model.drop(columns=['working'])
    
    categorical_cols = [col for col in train_model.columns if train_model[col].dtype == 'object']
    numeric_cols = [col for col in train_model.columns if train_model[col].dtype != 'object']
    
    print("âœ… ì „ì²˜ë¦¬ ì™„ë£Œ")
    print(f"ğŸ·ï¸ ë²”ì£¼í˜• ë³€ìˆ˜: {categorical_cols}")
    print(f"ğŸ”¢ ìˆ˜ì¹˜í˜• ë³€ìˆ˜: {numeric_cols}")
```


## 5. ê¸°ë³¸ ë°ì´í„° ì •ë³´ í™•ì¸

```{python}
if 'train_model' in locals():
    print(train_model.info())
    print(f"\nìƒ˜í”Œ ìˆ˜: {len(train_model)}")
    print(f"ë³€ìˆ˜ ìˆ˜: {len(train_model.columns)}")
```

## 6. ê²°ì¸¡ì¹˜ í™•ì¸

```{python}

if 'train_model' in locals() and 'test_model' in locals():
    missing_train = train_model.isnull().sum()
    missing_test = test_model.isnull().sum()
    print("Train ê²°ì¸¡ì¹˜\n", missing_train[missing_train>0])
    print("\nTest ê²°ì¸¡ì¹˜\n", missing_test[missing_test>0])
```

## 7. ëª©í‘œ ë³€ìˆ˜ ë¶„ì„

```{python}

if 'train_model' in locals():
    target_counts = train_model['passorfail'].value_counts().sort_index()
    target_ratio = train_model['passorfail'].value_counts(normalize=True).sort_index()
    
    print(target_counts)
    print(target_ratio)
    
    fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(12, 5))
    colors = ['#FF6B6B', '#4ECDC4']
    target_counts.plot(kind='bar', ax=ax1, color=colors)
    ax2.pie(target_ratio.values, labels=['Fail','Pass'], autopct='%1.1f%%', colors=colors)
    plt.show()
```

## 8. ë²”ì£¼í˜• ë³€ìˆ˜ ë¶„ì„

```{python}

if 'train_model' in locals():
    categorical_analysis_cols = ['working_encoded','emergency_stop','tryshot_signal','heating_furnace']
    
    fig, axes = plt.subplots(2, 2, figsize=(15, 10))
    axes = axes.flatten()
    
    for i, col in enumerate(categorical_analysis_cols):
        if col in train_model.columns:
            train_model[col].value_counts().plot(kind='bar', ax=axes[i], color='skyblue')
            axes[i].set_title(f'{col} ë¶„í¬')
    plt.tight_layout()
    plt.show()
```

## 9. ë²”ì£¼í˜• ë³€ìˆ˜ì™€ ëª©í‘œ ë³€ìˆ˜ ê´€ê³„

```{python}

if 'train_model' in locals():
    categorical_analysis_cols = ['working_encoded','emergency_stop','tryshot_signal','heating_furnace']
    
    fig, axes = plt.subplots(2, 2, figsize=(15, 10))
    axes = axes.flatten()
    
    for i, col in enumerate(categorical_analysis_cols):
        if col in train_model.columns:
            crosstab = pd.crosstab(train_model[col], train_model['passorfail'], normalize='index')
            crosstab.plot(kind='bar', stacked=True, ax=axes[i], color=['#FF6B6B','#4ECDC4'])
            axes[i].set_title(f'{col} vs passorfail')
    plt.tight_layout()
    plt.show()
```
